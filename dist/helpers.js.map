{"version":3,"file":"helpers.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,cAAe,GAAIH,GACA,iBAAZC,QACdA,QAAqB,YAAID,IAEzBD,EAAkB,YAAIC,GACvB,CATD,CASGK,MAAM,WACT,O,4GCPA,gBAIEC,iBAAiBC,GACfA,EAAEC,kBACFD,EAAEE,gBACJ,CAOAH,gCAAgCI,GAC9B,IAAIC,EAAeD,EAAKE,oBAAsBF,EAAKC,cAAgBD,EAAKG,KAIxE,OAFAF,EAAeA,EAAaG,QAAQ,IAAK,KAEjCJ,EAAKK,KAAO,IAAMJ,EAAaG,QAAQ,oBAAqB,GACtE,CAMAR,mBAAmBU,GACjB,OAAOC,MAAMC,QAAQF,GACjBA,EAAMG,QAAO,CAACC,EAAGC,IAAMD,EAAEE,OAAOjB,KAAKkB,YAAYF,KAAK,IACtD,CAACL,EACP,CAMAV,cAAcU,EAAcQ,EAAoBC,GAC9C,IAAIC,EAAO,IAAIC,IACf,OAAOX,EAAMY,QAAQC,IACnB,IAAIC,EAAIN,EAASK,GACjB,OAAIH,EAAKK,IAAID,IACXL,EAAcI,IACP,IAEPH,EAAKM,IAAIF,IACF,E,GAGb,CAKAxB,kBAAkBS,GAChB,OAAIA,EAAO,KACFA,EAAO,SAEZA,EAAO,SACDA,EAAO,MAAQkB,QAAQ,GAAK,MAElClB,EAAO,YACDA,EAAO,KAAS,MAAQkB,QAAQ,GAAK,OAEvClB,EAAO,KAAS,KAAS,MAAQkB,QAAQ,GAAK,KACxD,CAKA3B,iBACE4B,EACAC,EACAC,EACAC,EACAC,EAA6B,IAE7B,IAAIC,EAASJ,EAEO,SAAhBD,GAA0BE,IAC5BG,EAAwB,MAAfH,EAAqBD,EAAaC,GAG7C,IAAII,EAAYD,EAAOE,QAAQ,KAAO,EAAI,IAAM,IAC5CC,EAAeC,OAAOC,QAAQP,GAAQQ,KAAI,EAAEC,EAAKC,KAAW,CAC9DC,mBAAmBV,EAAqBQ,GACxCE,mBAAmBD,IACnBE,KAAK,OAAMA,KAAK,KAIlB,OAFIP,IAAcH,EAASA,EAASC,EAAYE,GAEzCH,CACT,E","sources":["webpack://resumablejs/webpack/universalModuleDefinition","webpack://resumablejs/./src/resumableHelpers.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"resumablejs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"resumablejs\"] = factory();\n\telse\n\t\troot[\"resumablejs\"] = factory();\n})(this, function() {\nreturn ","// INTERNAL HELPER METHODS (handy, but ultimately not part of uploading)\nimport {ExtendedFile} from \"./types/types\";\n\nexport default class ResumableHelpers {\n  /**\n   * Stop the propagation and default behavior of the given event `e`.\n   */\n  static stopEvent(e: Event): void {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  /**\n   * Generate a unique identifier for the given file based on its size, filename and relative path.\n   * @param {ExtendedFile} file The file for which the identifier should be generated\n   * @returns {string} The unique identifier for the given file object\n   */\n  static generateUniqueIdentifier(file: ExtendedFile): string {\n    let relativePath = file.webkitRelativePath || file.relativePath || file.name;\n    // The '/' is used to display the relative path of the file. This information should be preserved\n    relativePath = relativePath.replace('/', '-');\n    // Remove special characters\n    return (file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, ''));\n  }\n\n  /**\n   * Flatten the given array and all contained subarrays.\n   * Credit: {@link https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore#_flattendeep}\n   */\n  static flattenDeep(array: any[]): any[] {\n    return Array.isArray(array)\n      ? array.reduce((a, b) => a.concat(this.flattenDeep(b)), [])\n      : [array];\n  }\n\n  /**\n   * Filter the given array based on the predicate inside `callback`\n   * and executes `errorCallback` for duplicate elements.\n   */\n  static uniqBy(array: any[], callback: Function, errorCallback: Function): any[] {\n    let seen = new Set();\n    return array.filter((item) => {\n      let k = callback(item);\n      if (seen.has(k)) {\n        errorCallback(item);\n        return false;\n      } else {\n        seen.add(k);\n        return true;\n      }\n    });\n  }\n\n  /**\n   * Format the size given in Bytes in a human readable format.\n   */\n  static formatSize(size: number): string {\n    if (size < 1024) {\n      return size + ' bytes';\n    }\n    if (size < 1024 * 1024) {\n      return (size / 1024.0).toFixed(0) + ' KB';\n    }\n    if (size < 1024 * 1024 * 1024) {\n      return (size / 1024.0 / 1024.0).toFixed(1) + ' MB';\n    }\n    return (size / 1024.0 / 1024.0 / 1024.0).toFixed(1) + ' GB';\n  }\n\n  /**\n   * Get the target url for the specified request type and params\n   */\n  static getTarget(\n    requestType: string,\n    sendTarget: string,\n    testTarget: string,\n    params: object,\n    parameterNamespace: string = ''\n  ) {\n    let target = sendTarget;\n\n    if (requestType === 'test' && testTarget) {\n      target = testTarget === '/' ? sendTarget : testTarget;\n    }\n\n    let separator = target.indexOf('?') < 0 ? '?' : '&';\n    let joinedParams = Object.entries(params).map(([key, value]) => [\n      encodeURIComponent(parameterNamespace + key),\n      encodeURIComponent(value),\n    ].join('=')).join('&');\n\n    if (joinedParams) target = target + separator + joinedParams;\n\n    return target;\n  }\n}\n"],"names":["root","factory","exports","module","define","amd","this","static","e","stopPropagation","preventDefault","file","relativePath","webkitRelativePath","name","replace","size","array","Array","isArray","reduce","a","b","concat","flattenDeep","callback","errorCallback","seen","Set","filter","item","k","has","add","toFixed","requestType","sendTarget","testTarget","params","parameterNamespace","target","separator","indexOf","joinedParams","Object","entries","map","key","value","encodeURIComponent","join"],"sourceRoot":""}